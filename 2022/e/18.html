<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"
        integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
    <title>2022년 초등부 18번</title>
    <style>
        .container {
            margin-top: 30px;
        }
    </style>
</head>

<body>
    <div class="container">
        <table class="table">
            <tr>
                <th colspan=2 style="text-align: center;">나의 아이템</th>
                <th>거래하기</th>
                <td>
                    <button class="btn btn-danger" id="reset" onclick="reset()">초기화</button>
                </td>
            </tr>
            <tr>
                <td style="text-align: center;">
                    <img src="/static/img/leaf.png" height="50px"><br>나뭇잎
                </td>
                <td style="vertical-align: middle;">
                    <span id="leaf" style="font-size: 150%;">0</span>개
                </td>
                <td colspan="2" rowspan="6">
                    <button class="btn btn-light" onclick="trade('leaf', 1)">
                        <img src="/static/img/coin.png" height="30px"> 1개 →
                        <img src="/static/img/leaf.png" height="30px"> 1개
                    </button>
                    <button class="btn btn-light" onclick="trade('rock', 2)">
                        <img src="/static/img/coin.png" height="30px"> 2개 →
                        <img src="/static/img/rock.png" height="30px"> 1개
                    </button>
                    <button class="btn btn-light" onclick="trade('branch', 3)">
                        <img src="/static/img/coin.png" height="30px"> 3개 →
                        <img src="/static/img/branch.png" height="30px"> 1개
                    </button>
                    <br><br>
                    <button class="btn btn-light" onclick="trade2(1)">
                        <img src="/static/img/rock.png" height="30px"> 2개 +
                        <img src="/static/img/leaf.png" height="30px"> 1개 →
                        <img src="/static/img/silver.png" height="30px"> 1개
                    </button>
                    <br><br>
                    <button class="btn btn-light" onclick="trade2(2)">
                        <img src="/static/img/rock.png" height="30px"> 1개 +
                        <img src="/static/img/branch.png" height="30px"> 2개 →
                        <img src="/static/img/silver.png" height="30px"> 2개
                    </button>
                    <br><br>
                    <button class="btn btn-light" onclick="trade2(3)">
                        <img src="/static/img/rock.png" height="30px"> 3개 +
                        <img src="/static/img/branch.png" height="30px"> 2개 →
                        <img src="/static/img/silver.png" height="30px"> 3개
                    </button>
                    <br><br>
                    <button class="btn btn-light" onclick="trade2(4)">
                        <img src="/static/img/silver.png" height="30px"> 7개 →
                        <img src="/static/img/sword.png" height="30px"> 1개
                    </button>
                </td>
            </tr>
            <tr>
                <td style="text-align: center;">
                    <img src="/static/img/rock.png" height="50px"><br>돌
                </td>
                <td style="vertical-align: middle;">
                    <span id="rock" style="font-size: 150%;">0</span>개
                </td>
            </tr>
            <tr>
                <td style="text-align: center;">
                    <img src="/static/img/branch.png" height="50px"><br>나뭇가지
                </td>
                <td style="vertical-align: middle;">
                    <span id="branch" style="font-size: 150%;">0</span>개
                </td>
            </tr>
            <tr>
                <td style="text-align: center;">
                    <img src="/static/img/silver.png" height="50px"><br>은
                </td>
                <td style="vertical-align: middle;">
                    <span id="silver" style="font-size: 150%;">0</span>개
                </td>
            </tr>
            <tr>
                <td style="text-align: center;">
                    <img src="/static/img/sword.png" height="50px"><br>검
                </td>
                <td style="vertical-align: middle;">
                    <span id="sword" style="font-size: 150%;">0</span>개
                </td>
            </tr>
            <tr>
                <td style="text-align: center;">
                    <img src="/static/img/coin.png" height="50px"><br>소모한 코인
                </td>
                <td style="vertical-align: middle;">
                    <span id="coin" style="font-size: 150%;">0</span>개
                </td>
            </tr>
        </table>
    </div>
    <script>
        function reset() {
            $("#leaf").text(0);
            $("#rock").text(0);
            $("#branch").text(0);
            $("#silver").text(0);
            $("#sword").text(0);
            $("#coin").text(0);
        }
        function trade(item, cost) {
            var coin = parseInt($("#coin").text());
            var itemc = parseInt($("#" + item).text());
            $("#coin").text(coin + cost);
            $("#" + item).text(itemc + 1);
        }
        function trade2(tradeid) {
            var coin = parseInt($("#coin").text());
            var leaf = parseInt($("#leaf").text());
            var rock = parseInt($("#rock").text());
            var branch = parseInt($("#branch").text());
            var silver = parseInt($("#silver").text());
            var sword = parseInt($("#sword").text());
            if (tradeid == 1) {
                if (rock >= 2 && leaf >= 1) {
                    $("#rock").text(rock - 2);
                    $("#leaf").text(leaf - 1);
                    $("#silver").text(silver + 1);
                }
            } else if (tradeid == 2) {
                if (rock >= 1 && branch >= 2) {
                    $("#rock").text(rock - 1);
                    $("#branch").text(branch - 2);
                    $("#silver").text(silver + 2);
                }
            } else if (tradeid == 3) {
                if (rock >= 3 && branch >= 2) {
                    $("#rock").text(rock - 3);
                    $("#branch").text(branch - 2);
                    $("#silver").text(silver + 3);
                }
            } else if (tradeid == 4) {
                if (silver >= 7) {
                    $("#silver").text(silver - 7);
                    $("#sword").text(sword + 1);
                }
            }
        }
    </script>
</body>

</html>