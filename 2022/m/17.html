<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
    <title>2022년 중등부 17번</title>
    <style>
        .container {
            margin-top: 30px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div style="display: none;" id="checker">0</div>
        <p id="main"><span id="nth">1</span>번째 시행을 진행해주세요. 이번 시행에서 곱해지는 수는 <span id="nthmul">1</span>입니다.</p>
        <p>만약 더 이상의 시행을 원하지 않는다면 제출해주세요.</p>
        <p>현재 포인트는 <span id="point">0</span>포인트 입니다.</p>
        <div id="bmain">
            <button class="btn btn-light" id="l1">-4</button>
            <button class="btn btn-light" id="l2">9</button>
            <button class="btn btn-light" id="l3">4</button>
            <button class="btn btn-light" id="l4">2</button>
            <button class="btn btn-light" id="l5">0</button>
            <button class="btn btn-light" id="l6">-1</button>
            <button class="btn btn-light" id="r6">2</button>
            <button class="btn btn-light" id="r5">-2</button>
            <button class="btn btn-light" id="r4">-6</button>
            <button class="btn btn-light" id="r3">5</button>
            <button class="btn btn-light" id="r2">3</button>
            <button class="btn btn-light" id="r1">5</button>
        </div>
        <div class="row">
            <div class="col-8">
                <button class="btn btn-primary" id="left">왼쪽</button>
                <button class="btn btn-primary" id="right">오른쪽</button>
                <button class="btn btn-danger" id="reset">초기화</button>
            </div>
        </div>
    </div>
    <script>
        var lefts = 1;
        var rights = 1;
        $(function() {
            $("#left").click(function() {
                var nth = parseInt($("#nth").text());
                var nthmul = parseInt($("#nthmul").text());
                var point = parseInt($("#point").text());
                var lval = parseInt($("#l" + lefts).text());
                if($("#checker").text() == 1) {
                    alert("더 이상의 시행을 진행할 수 없습니다.");
                    return;
                }
                $("#l" + lefts).css("display", "none");
                lefts += 1;

                if(nth == 1) {
                    $("#nth").text(nth + 1);
                    $("#nthmul").text(2);
                    $("#point").text(point + nthmul * lval);
                }
                else if(nth == 2) {
                    $("#nth").text(nth + 1);
                    $("#nthmul").text(-3);
                    $("#point").text(point + nthmul * lval);
                }
                else if(nth == 3) {
                    $("#nth").text(nth + 1);
                    $("#nthmul").text(3);
                    $("#point").text(point + nthmul * lval);
                }
                else if(nth == 4) {
                    $("#nth").text(nth + 1);
                    $("#nthmul").text(-2);
                    $("#point").text(point + nthmul * lval);
                }
                else if(nth == 5) {
                    $("#nth").text(nth + 1);
                    $("#nthmul").text(1);
                    $("#point").text(point + nthmul * lval);
                }
                else if(nth == 6) {
                    $("#main").text("6번의 시행을 모두 완료했습니다.")
                    $("#nth").text(nth + 1);
                    $("#nthmul").text(0);
                    $("#point").text(point + nthmul * lval);
                    $("#checker").text(1);
                }
            });
            $("#right").click(function() {
                var nth = parseInt($("#nth").text());
                var nthmul = parseInt($("#nthmul").text());
                var point = parseInt($("#point").text());
                var rval = parseInt($("#r" + rights).text());
                if($("#checker").text() == 1) {
                    alert("더 이상의 시행을 진행할 수 없습니다.");
                    return;
                }
                $("#r" + rights).css("display", "none");
                rights += 1;

                if(nth == 1) {
                    $("#nth").text(nth + 1);
                    $("#nthmul").text(2);
                    $("#point").text(point + nthmul * rval);
                }
                else if(nth == 2) {
                    $("#nth").text(nth + 1);
                    $("#nthmul").text(-3);
                    $("#point").text(point + nthmul * rval);
                }
                else if(nth == 3) {
                    $("#nth").text(nth + 1);
                    $("#nthmul").text(3);
                    $("#point").text(point + nthmul * rval);
                }
                else if(nth == 4) {
                    $("#nth").text(nth + 1);
                    $("#nthmul").text(-2);
                    $("#point").text(point + nthmul * rval);
                }
                else if(nth == 5) {
                    $("#nth").text(nth + 1);
                    $("#nthmul").text(1);
                    $("#point").text(point + nthmul * rval);
                }
                else if(nth == 6) {
                    $("#main").text("6번의 시행을 모두 완료했습니다.")
                    $("#nth").text(nth + 1);
                    $("#nthmul").text(0);
                    $("#point").text(point + nthmul * rval);
                    $("#checker").text(1);
                }
            });
            $("#reset").click(function() {
                $("#checker").text(0);
                lefts = 1;
                rights = 1;
                $("#point").text("0");
                $("#main").html('<span id="nth">1</span>번째 시행을 진행해주세요. 이번 시행에서 곱해지는 수는 <span id="nthmul">1</span>입니다.');
                $("#bmain").html(`
            <button class="btn btn-light" id="l1">-4</button>
            <button class="btn btn-light" id="l2">9</button>
            <button class="btn btn-light" id="l3">4</button>
            <button class="btn btn-light" id="l4">2</button>
            <button class="btn btn-light" id="l5">0</button>
            <button class="btn btn-light" id="l6">-1</button>
            <button class="btn btn-light" id="r6">2</button>
            <button class="btn btn-light" id="r5">-2</button>
            <button class="btn btn-light" id="r4">-6</button>
            <button class="btn btn-light" id="r3">5</button>
            <button class="btn btn-light" id="r2">3</button>
            <button class="btn btn-light" id="r1">5</button>`);
            })
        })
    </script>
</body>
</html>